const buttonsFilterContent=document.querySelectorAll(".companion-filter__legend-button"),filterContents=document.querySelectorAll(".companion-filter__content");if(buttonsFilterContent&&filterContents){for(let e=0;e<buttonsFilterContent.length;e+=1)buttonsFilterContent[e].classList.remove("companion-filter__legend-button--nojs"),filterContents[e].classList.remove("companion-filter__content--nojs");for(let e=0;e<buttonsFilterContent.length;e+=1)buttonsFilterContent[e].addEventListener("click",(function(){buttonsFilterContent[e].classList.toggle("companion-filter__legend-button--open"),filterContents[e].classList.toggle("companion-filter__content--open")}))}const filter=document.querySelector(".filter"),mainFilterWrap=document.querySelector(".main__filter-wrap"),mainFilterInner=document.querySelector(".main__filter-inner"),filterToogle=document.querySelector(".filter__toogle"),filterButtonsLetter=document.querySelectorAll(".filter__button-letter"),filterCountries=document.querySelectorAll(".filter__countries");if(filter&&filterToogle&&filterToogle.addEventListener("click",(function(){filter.classList.toggle("filter--open"),mainFilterWrap.classList.add("main__filter-wrap--open"),mainFilterInner.classList.add("main__filter-inner--open")})),filter&&mainFilterWrap&&mainFilterInner&&(filter.classList.remove("filter--nojs"),mainFilterWrap.classList.remove("main__filter-wrap--nojs"),mainFilterInner.classList.remove("main__filter-inner--nojs")),filterButtonsLetter){function clearCurrentCountries(){for(let e=0;e<filterButtonsLetter.length;e+=1)filterButtonsLetter[e].classList.remove("filter__button-letter--current"),filterCountries[e].classList.remove("filter__countries--current")}for(let e=0;e<filterButtonsLetter.length;e+=1)filterButtonsLetter[e].addEventListener("click",(function(t){t.preventDefault(),clearCurrentCountries(),filterButtonsLetter[e].classList.add("filter__button-letter--current"),filterCountries[e].classList.add("filter__countries--current")}))}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,(function(){"use strict";function e(e){var t=!0,n=!1,o=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function l(e){t=!1}function a(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(r(e.activeElement)&&s(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",l,!0),document.addEventListener("pointerdown",l,!0),document.addEventListener("touchstart",l,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),a())}),!0),a(),e.addEventListener("focus",(function(e){var n,o,l;r(e.target)&&(t||(o=(n=e.target).type,"INPUT"===(l=n.tagName)&&i[o]&&!n.readOnly||"TEXTAREA"===l&&!n.readOnly||n.isContentEditable))&&s(e.target)}),!0),e.addEventListener("blur",(function(e){var t;r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(o),o=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}));const header=document.querySelector(".header"),mainNav=document.querySelector(".main-nav"),mainPage=document.querySelector(".main"),headerToggle=document.querySelector(".header__toggle"),toogleText=headerToggle.querySelector(".visually-hidden");if(headerToggle.addEventListener("click",(function(){header.classList.contains("header--opened")?(toogleText.textContent="Закрыть меню",header.classList.remove("header--opened")):(toogleText.textContent="Открыть меню",header.classList.add("header--opened")),header.classList.contains("header--scroll")&&header.classList.contains("header--opened")&&headerToggle.classList.remove("header__toggle--theme-smoke"),header.classList.contains("header--scroll")&&!1===header.classList.contains("header--opened")&&headerToggle.classList.add("header__toggle--theme-smoke")})),header.classList.remove("header--nojs"),mainPage.classList.remove("main--nojs"),window.addEventListener("scroll",(function(){header.classList.add("header--scroll"),headerToggle.classList.add("header__toggle--theme-smoke"),mainNav.classList.remove("main-nav--theme-light"),pageYOffset>0&&header.classList.contains("header--opened")&&headerToggle.classList.remove("header__toggle--theme-smoke"),0===pageYOffset&&(headerToggle.classList.remove("header__toggle--theme-smoke"),header.classList.remove("header--scroll"),mainNav.classList.add("main-nav--theme-light"))})),document.querySelector(".card__likes")){const e=document.querySelectorAll(".card__likes-button"),t=document.querySelectorAll(".card__likes-number"),n=document.querySelectorAll(".card__likes .visually-hidden");for(let o=0;o<e.length;o+=1)e[o].addEventListener("click",(function(){e[o].classList.contains("card__likes-button--active")?(e[o].classList.remove("card__likes-button--active"),e[o].classList.add("card__likes-button--inactive"),n[o].textContent="Поставить лайк",t[o].textContent--):(e[o].classList.remove("card__likes-button--inactive"),e[o].classList.add("card__likes-button--active"),n[o].textContent="Снять лайк",t[o].textContent++)}))}const DESKTOP_WIDTH="(min-width: 1440px)",TABLET_WIDTH="(min-width: 768px)",isUpperDesktop=window.matchMedia(DESKTOP_WIDTH).matches,isUpperTablet=window.matchMedia(TABLET_WIDTH).matches,mapCenter=isUpperDesktop?[59.9375,30.324]:[59.938635,30.323118],mapZoom=isUpperDesktop?16:isUpperTablet?15.5:15,mapSettings={center:mapCenter,zoom:mapZoom,controls:["zoomControl","rulerControl","routeButtonControl","trafficControl","typeSelector","fullscreenControl"]},mapControlSettings={rulerControlPosition:{bottom:isUpperTablet?"70px":"50px",right:"10px"},fullscreenControlPosition:{top:isUpperTablet?"80px":"40px",right:"10px"},typeSelectorSize:"small",typeSelectorPosition:{top:"140px",right:"10px"},trafficControlSize:"small",trafficControlPosition:{top:"170px",right:"10px"},routeButtonControlSize:"small",routeButtonControlPosition:{top:"200px",right:"10px"}},iconSettings={iconLayout:"default#image",iconImageHref:"img/icon-map.svg",iconImageSize:isUpperTablet?[45,45]:[40,40],iconImageOffset:isUpperTablet?[-20,-40]:[-20,-30]};function init(){const e=new ymaps.Map("map",mapSettings,mapControlSettings),t=new ymaps.Placemark([59.938635,30.323118],{balloonContent:"Погнали?"},iconSettings);e.geoObjects.add(t)}ymaps.ready(init);const placementButton=document.querySelector(".placement__link"),pageBlackout=document.querySelector(".page__blackout"),modalTariffs=document.querySelector(".tariffs"),modalTariffsClose=document.querySelector(".tariffs__button");placementButton&&placementButton.addEventListener("click",(function(e){e.preventDefault(),modalTariffs.classList.add("tariffs--show"),pageBlackout.classList.add("page__blackout--show")})),modalTariffsClose&&modalTariffsClose.addEventListener("click",(function(e){modalTariffs.classList.remove("tariffs--show"),pageBlackout.classList.remove("page__blackout--show")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&modalTariffs.classList.contains("tariffs--show")&&(e.preventDefault(),modalTariffs.classList.remove("tariffs--show"),pageBlackout.classList.remove("page__blackout--show"))}));const buttonSelectRoute=document.querySelector(".route__button--unselected"),itemSelectRoute=document.querySelector(".route__item--unselected"),buttonsSelectCountry=document.querySelectorAll(".select-country__button"),countriesList=document.querySelectorAll(".select-country__countries");if(buttonSelectRoute&&itemSelectRoute&&buttonSelectRoute.addEventListener("click",(function(){itemSelectRoute.classList.toggle("route__item--open")})),buttonsSelectCountry){function clearCurrentCountries(){for(let e=0;e<buttonsSelectCountry.length;e+=1)buttonsSelectCountry[e].classList.remove("select-country__button--current"),countriesList[e].classList.remove("select-country__countries--current")}for(let e=0;e<buttonsSelectCountry.length;e+=1)buttonsSelectCountry[e].addEventListener("click",(function(t){t.preventDefault(),clearCurrentCountries(),buttonsSelectCountry[e].classList.add("select-country__button--current"),countriesList[e].classList.add("select-country__countries--current")}))}